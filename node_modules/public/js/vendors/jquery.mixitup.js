!function(a){function b(b,d,g,h,i){function j(){q.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),d&&c(d,g,h,i),i.startOrder=[],i.newOrder=[],i.origSort=[],i.checkSort=[],p.removeStyle(i.prefix+"filter, filter, "+i.prefix+"transform, transform, opacity, display").css(i.clean).removeAttr("data-checksum"),window.atob||p.css({display:"none",opacity:"0"});var a=i.resizeContainer?"height":"";q.removeStyle(i.prefix+"transition, transition, "+i.prefix+"perspective, perspective, "+i.prefix+"perspective-origin, perspective-origin, "+a),"list"==i.layoutMode?(s.css({display:i.targetDisplayList,opacity:"1"}),i.origDisplay=i.targetDisplayList):(s.css({display:i.targetDisplayGrid,opacity:"1"}),i.origDisplay=i.targetDisplayGrid),i.origLayout=i.layoutMode;setTimeout(function(){if(p.removeStyle(i.prefix+"transition, transition"),i.mixing=!1,"function"==typeof i.onMixEnd){var a=i.onMixEnd.call(this,i);i=a?a:i}})}if(clearInterval(i.failsafe),i.mixing=!0,i.filter=b,"function"==typeof i.onMixStart){var k=i.onMixStart.call(this,i);i=k?k:i}for(var l=i.transitionSpeed,m=0;2>m;m++){var n=0==m?n=i.prefix:"";i.transition[n+"transition"]="all "+l+"ms linear",i.transition[n+"transform"]=n+"translate3d(0,0,0)",i.perspective[n+"perspective"]=i.perspectiveDistance+"px",i.perspective[n+"perspective-origin"]=i.perspectiveOrigin}var o=i.targetSelector,p=h.find(o);p.each(function(){this.data={}});var q=p.parent();q.css(i.perspective),i.easingFallback="ease-in-out","smooth"==i.easing&&(i.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==i.easing&&(i.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==i.easing&&(i.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",i.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==i.easing&&(i.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",i.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");var r="list"==i.layoutMode&&null!=i.listEffects?i.listEffects:i.effects;Array.prototype.indexOf&&(i.fade=r.indexOf("fade")>-1?"0":"",i.scale=r.indexOf("scale")>-1?"scale(.01)":"",i.rotateZ=r.indexOf("rotateZ")>-1?"rotate(180deg)":"",i.rotateY=r.indexOf("rotateY")>-1?"rotateY(90deg)":"",i.rotateX=r.indexOf("rotateX")>-1?"rotateX(90deg)":"",i.blur=r.indexOf("blur")>-1?"blur(8px)":"",i.grayscale=r.indexOf("grayscale")>-1?"grayscale(100%)":"");var s=a(),t=a(),u=[],v=!1;"string"==typeof b?u=f(b):(v=!0,a.each(b,function(a){u[a]=f(this)})),"or"==i.filterLogic?(""==u[0]&&u.shift(),u.length<1?t=t.add(h.find(o+":visible")):p.each(function(){var b=a(this);if(v){var c=0;a.each(u,function(){this.length?b.is("."+this.join(", ."))&&c++:c>0&&c++}),c==u.length?s=s.add(b):t=t.add(b)}else b.is("."+u.join(", ."))?s=s.add(b):t=t.add(b)})):(s=s.add(q.find(o+"."+u.join("."))),t=t.add(q.find(o+":not(."+u.join(".")+"):visible")));var w=s.length,x=a(),y=a(),z=a();if(t.each(function(){var b=a(this);"none"!=b.css("display")&&(x=x.add(b),z=z.add(b))}),s.filter(":visible").length==w&&!x.length&&!d){if(i.origLayout==i.layoutMode)return j(),!1;if(1==s.length)return"list"==i.layoutMode?(h.addClass(i.listClass),h.removeClass(i.gridClass),z.css("display",i.targetDisplayList)):(h.addClass(i.gridClass),h.removeClass(i.listClass),z.css("display",i.targetDisplayGrid)),j(),!1}if(i.origHeight=q.height(),s.length){if(h.removeClass(i.failClass),s.each(function(){var b=a(this);"none"==b.css("display")?y=y.add(b):z=z.add(b)}),i.origLayout!=i.layoutMode&&0==i.animateGridList)return"list"==i.layoutMode?(h.addClass(i.listClass),h.removeClass(i.gridClass),z.css("display",i.targetDisplayList)):(h.addClass(i.gridClass),h.removeClass(i.listClass),z.css("display",i.targetDisplayGrid)),j(),!1;if(!window.atob)return j(),!1;if(p.css(i.clean),z.each(function(){this.data.origPos=a(this).offset()}),"list"==i.layoutMode?(h.addClass(i.listClass),h.removeClass(i.gridClass),y.css("display",i.targetDisplayList)):(h.addClass(i.gridClass),h.removeClass(i.listClass),y.css("display",i.targetDisplayGrid)),y.each(function(){this.data.showInterPos=a(this).offset()}),x.each(function(){this.data.hideInterPos=a(this).offset()}),z.each(function(){this.data.preInterPos=a(this).offset()}),"list"==i.layoutMode?z.css("display",i.targetDisplayList):z.css("display",i.targetDisplayGrid),d&&c(d,g,h,i),d&&e(i.origSort,i.checkSort))return j(),!1;x.hide(),y.each(function(){this.data.finalPos=a(this).offset()}),z.each(function(){this.data.finalPrePos=a(this).offset()}),i.newHeight=q.height(),d&&c("reset",null,h,i),y.hide(),z.css("display",i.origDisplay),"block"==i.origDisplay?(h.addClass(i.listClass),y.css("display",i.targetDisplayList)):(h.removeClass(i.listClass),y.css("display",i.targetDisplayGrid)),i.resizeContainer&&q.css("height",i.origHeight+"px");for(var A={},m=0;2>m;m++){var n=0==m?n=i.prefix:"";A[n+"transform"]=i.scale+" "+i.rotateX+" "+i.rotateY+" "+i.rotateZ,A[n+"filter"]=i.blur+" "+i.grayscale}y.css(A),z.each(function(){var b=this.data,c=a(this);c.hasClass("mix_tohide")?(b.preTX=b.origPos.left-b.hideInterPos.left,b.preTY=b.origPos.top-b.hideInterPos.top):(b.preTX=b.origPos.left-b.preInterPos.left,b.preTY=b.origPos.top-b.preInterPos.top);for(var d={},e=0;2>e;e++){var f=0==e?f=i.prefix:"";d[f+"transform"]="translate("+b.preTX+"px,"+b.preTY+"px)"}c.css(d)}),"list"==i.layoutMode?(h.addClass(i.listClass),h.removeClass(i.gridClass)):(h.addClass(i.gridClass),h.removeClass(i.listClass));{setTimeout(function(){if(i.resizeContainer){for(var b={},c=0;2>c;c++){var d=0==c?d=i.prefix:"";b[d+"transition"]="all "+l+"ms ease-in-out",b.height=i.newHeight+"px"}q.css(b)}x.css("opacity",i.fade),y.css("opacity",1),y.each(function(){var b=this.data;b.tX=b.finalPos.left-b.showInterPos.left,b.tY=b.finalPos.top-b.showInterPos.top;for(var c={},d=0;2>d;d++){var e=0==d?e=i.prefix:"";c[e+"transition-property"]=e+"transform, "+e+"filter, opacity",c[e+"transition-timing-function"]=i.easing+", linear, linear",c[e+"transition-duration"]=l+"ms",c[e+"transition-delay"]="0",c[e+"transform"]="translate("+b.tX+"px,"+b.tY+"px)",c[e+"filter"]="none"}a(this).css("-webkit-transition","all "+l+"ms "+i.easingFallback).css(c)}),z.each(function(){var b=this.data;b.tX=0!=b.finalPrePos.left?b.finalPrePos.left-b.preInterPos.left:0,b.tY=0!=b.finalPrePos.left?b.finalPrePos.top-b.preInterPos.top:0;for(var c={},d=0;2>d;d++){var e=0==d?e=i.prefix:"";c[e+"transition"]="all "+l+"ms "+i.easing,c[e+"transform"]="translate("+b.tX+"px,"+b.tY+"px)"}a(this).css("-webkit-transition","all "+l+"ms "+i.easingFallback).css(c)});for(var e={},c=0;2>c;c++){var d=0==c?d=i.prefix:"";e[d+"transition"]="all "+l+"ms "+i.easing+", "+d+"filter "+l+"ms linear, opacity "+l+"ms linear",e[d+"transform"]=i.scale+" "+i.rotateX+" "+i.rotateY+" "+i.rotateZ,e[d+"filter"]=i.blur+" "+i.grayscale,e.opacity=i.fade}x.css(e),q.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(b){(b.originalEvent.propertyName.indexOf("transform")>-1||b.originalEvent.propertyName.indexOf("opacity")>-1)&&(o.indexOf(".")>-1?a(b.target).hasClass(o.replace(".",""))&&j():a(b.target).is(o)&&j())})},10)}i.failsafe=setTimeout(function(){i.mixing&&j()},l+400)}else{if(i.resizeContainer&&q.css("height",i.origHeight+"px"),!window.atob)return j(),!1;x=t;{setTimeout(function(){if(q.css(i.perspective),i.resizeContainer){for(var a={},b=0;2>b;b++){var c=0==b?c=i.prefix:"";a[c+"transition"]="height "+l+"ms ease-in-out",a.height=i.minHeight+"px"}q.css(a)}p.css(i.transition);var d=t.length;if(d){for(var e={},b=0;2>b;b++){var c=0==b?c=i.prefix:"";e[c+"transform"]=i.scale+" "+i.rotateX+" "+i.rotateY+" "+i.rotateZ,e[c+"filter"]=i.blur+" "+i.grayscale,e.opacity=i.fade}x.css(e),q.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(a){(a.originalEvent.propertyName.indexOf("transform")>-1||a.originalEvent.propertyName.indexOf("opacity")>-1)&&(h.addClass(i.failClass),j())})}else i.mixing=!1},10)}}}function c(b,c,d,e){function f(a,c){var d=isNaN(1*a.attr(b))?a.attr(b).toLowerCase():1*a.attr(b),e=isNaN(1*c.attr(b))?c.attr(b).toLowerCase():1*c.attr(b);return e>d?-1:d>e?1:0}function g(a){"asc"==c?i.prepend(a).prepend(" "):i.append(a).append(" ")}function h(a){for(var b=a.slice(),c=b.length,d=c;d--;){var e=parseInt(Math.random()*c),f=b[d];b[d]=b[e],b[e]=f}return b}d.find(e.targetSelector).wrapAll('<div class="mix_sorter"/>');var i=d.find(".mix_sorter");if(e.origSort.length||i.find(e.targetSelector+":visible").each(function(){a(this).wrap("<s/>"),e.origSort.push(a(this).parent().html().replace(/\s+/g,"")),a(this).unwrap()}),i.empty(),"reset"==b)a.each(e.startOrder,function(){i.append(this).append(" ")});else if("default"==b)a.each(e.origOrder,function(){g(this)});else if("random"==b)e.newOrder.length||(e.newOrder=h(e.startOrder)),a.each(e.newOrder,function(){i.append(this).append(" ")});else if("custom"==b)a.each(c,function(){g(this)});else{if("undefined"==typeof e.origOrder[0].attr(b))return console.log("No such attribute found. Terminating"),!1;e.newOrder.length||(a.each(e.origOrder,function(){e.newOrder.push(a(this))}),e.newOrder.sort(f)),a.each(e.newOrder,function(){g(this)})}e.checkSort=[],i.find(e.targetSelector+":visible").each(function(b){var c=a(this);0==b&&c.attr("data-checksum","1"),c.wrap("<s/>"),e.checkSort.push(c.parent().html().replace(/\s+/g,"")),c.unwrap()}),d.find(e.targetSelector).unwrap()}function d(a){for(var b=["Webkit","Moz","O","ms"],c=0;c<b.length;c++)if(b[c]+"Transition"in a.style)return b[c];return"transition"in a.style?"":!1}function e(a,b){if(a.length!=b.length)return!1;for(var c=0;c<b.length;c++){if(a[c].compare&&!a[c].compare(b[c]))return!1;if(a[c]!==b[c])return!1}return!0}function f(b){b=b.replace(/\s{2,}/g," ");var c=b.split(" ");return a.each(c,function(a){"all"==this&&(c[a]="mix_all")}),""==c[0]&&c.shift(),c}var g={init:function(e){return this.each(function(){var f=window.navigator.appVersion.match(/Chrome\/(\d+)\./),g=f?parseInt(f[1],10):!1,h=function(a){var b=document.getElementById(a),c=b.parentElement,d=document.createElement("div"),e=document.createDocumentFragment();c.insertBefore(d,b),e.appendChild(b),c.replaceChild(b,d),e=null,d=null};(g&&31==g||32==g)&&h(this.id);var i={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};e&&a.extend(i,e),this.config=i,a.support.touch="ontouchend"in document,a.support.touch&&(i.isTouch=!0,i.resetDelay=350),i.container=a(this);var j=i.container;if(i.prefix=d(j[0]),i.prefix=i.prefix?"-"+i.prefix.toLowerCase()+"-":"",j.find(i.targetSelector).each(function(){i.origOrder.push(a(this))}),i.sortOnLoad){var k,l;a.isArray(i.sortOnLoad)?(k=i.sortOnLoad[0],l=i.sortOnLoad[1],a(i.sortSelector+"[data-sort="+i.sortOnLoad[0]+"][data-order="+i.sortOnLoad[1]+"]").addClass("active")):(a(i.sortSelector+"[data-sort="+i.sortOnLoad+"]").addClass("active"),k=i.sortOnLoad,i.sortOnLoad="desc"),c(k,l,j,i)}for(var m=0;2>m;m++){var n=0==m?n=i.prefix:"";i.transition[n+"transition"]="all "+i.transitionSpeed+"ms ease-in-out",i.perspective[n+"perspective"]=i.perspectiveDistance+"px",i.perspective[n+"perspective-origin"]=i.perspectiveOrigin}for(var m=0;2>m;m++){var n=0==m?n=i.prefix:"";i.clean[n+"transition"]="none"}"list"==i.layoutMode?(j.addClass(i.listClass),i.origDisplay=i.targetDisplayList):(j.addClass(i.gridClass),i.origDisplay=i.targetDisplayGrid),i.origLayout=i.layoutMode;var o=i.showOnLoad.split(" ");a.each(o,function(){a(i.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),j.find(i.targetSelector).addClass("mix_all"),"all"==o[0]&&(o[0]="mix_all",i.showOnLoad="mix_all");var p=a();a.each(o,function(){p=p.add(a("."+this))}),p.each(function(){var b=a(this);"list"==i.layoutMode?b.css("display",i.targetDisplayList):b.css("display",i.targetDisplayGrid),b.css(i.transition)});setTimeout(function(){i.mixing=!0,p.css("opacity","1");setTimeout(function(){if(p.removeStyle(i.prefix+"transition, transition").css("list"==i.layoutMode?{display:i.targetDisplayList,opacity:1}:{display:i.targetDisplayGrid,opacity:1}),i.mixing=!1,"function"==typeof i.onMixLoad){var a=i.onMixLoad.call(this,i);i=a?a:i}},i.transitionSpeed)},10);i.filter=i.showOnLoad,a(i.sortSelector).bind(i.buttonEvent,function(){if(!i.mixing){var c=a(this),d=c.attr("data-sort"),e=c.attr("data-order");if(c.hasClass("active")){if("random"!=d)return!1}else a(i.sortSelector).removeClass("active"),c.addClass("active");j.find(i.targetSelector).each(function(){i.startOrder.push(a(this))}),b(i.filter,d,e,j,i)}}),a(i.filterSelector).bind(i.buttonEvent,function(){if(!i.mixing){var c=a(this);if(0==i.multiFilter)a(i.filterSelector).removeClass("active"),c.addClass("active"),i.filter=c.attr("data-filter"),a(i.filterSelector+'[data-filter="'+i.filter+'"]').addClass("active");else{var d=c.attr("data-filter");if(c.hasClass("active")){c.removeClass("active");var e=new RegExp("(\\s|^)"+d);i.filter=i.filter.replace(e,"")}else c.addClass("active"),i.filter=i.filter+" "+d}b(i.filter,null,null,j,i)}})})},toGrid:function(){return this.each(function(){var c=this.config;"grid"!=c.layoutMode&&(c.layoutMode="grid",b(c.filter,null,null,a(this),c))})},toList:function(){return this.each(function(){var c=this.config;"list"!=c.layoutMode&&(c.layoutMode="list",b(c.filter,null,null,a(this),c))})},filter:function(c){return this.each(function(){var d=this.config;d.mixing||(a(d.filterSelector).removeClass("active"),a(d.filterSelector+'[data-filter="'+c+'"]').addClass("active"),b(c,null,null,a(this),d))})},sort:function(c){return this.each(function(){var d=this.config,e=a(this);if(!d.mixing){if(a(d.sortSelector).removeClass("active"),a.isArray(c)){var f=c[0],g=c[1];a(d.sortSelector+'[data-sort="'+c[0]+'"][data-order="'+c[1]+'"]').addClass("active")}else{a(d.sortSelector+'[data-sort="'+c+'"]').addClass("active");var f=c,g="desc"}e.find(d.targetSelector).each(function(){d.startOrder.push(a(this))}),b(d.filter,f,g,e,d)}})},multimix:function(c){return this.each(function(){var d=this.config,e=a(this);multiOut={filter:d.filter,sort:null,order:"desc",layoutMode:d.layoutMode},a.extend(multiOut,c),d.mixing||(a(d.filterSelector).add(d.sortSelector).removeClass("active"),a(d.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!=typeof multiOut.sort&&(a(d.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),e.find(d.targetSelector).each(function(){d.startOrder.push(a(this))})),d.layoutMode=multiOut.layoutMode,b(multiOut.filter,multiOut.sort,multiOut.order,e,d))})},remix:function(c){return this.each(function(){var d=this.config,e=a(this);d.origOrder=[],e.find(d.targetSelector).each(function(){var b=a(this);b.addClass("mix_all"),d.origOrder.push(b)}),d.mixing||"undefined"==typeof c||(a(d.filterSelector).removeClass("active"),a(d.filterSelector+'[data-filter="'+c+'"]').addClass("active"),b(c,null,null,e,d))})}};a.fn.mixitup=function(a){return g[a]?g[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void 0:g.init.apply(this,arguments)},a.fn.removeStyle=function(b){return this.each(function(){var c=a(this);b=b.replace(/\s+/g,"");var d=b.split(",");a.each(d,function(){var a=new RegExp(this.toString()+"[^;]+;?","g");c.attr("style",function(b,c){return c?c.replace(a,""):void 0})})})}}(jQuery);