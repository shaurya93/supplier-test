$(document).ready(function(){var a=[],b=[],c=0,d="",e="",f="",g=null,h=0,i=0,j=0,k=0;$(window).scroll(function(){var a=$(this).scrollTop();d=a>c?"down":"up",c=a}),$.fn.stickUp=function(a){$(this).addClass("stuckMenu");var c=0;if(null!=a){for(var d in a.parts)a.parts.hasOwnProperty(d)&&(b[c]=a.parts[c],c++);0==c&&console.log("error:needs arguments"),e=a.itemClass,f=a.itemHover,null!=a.topMargin?"auto"==a.topMargin?k=parseInt($(".stuckMenu").css("margin-top")):isNaN(a.topMargin)&&a.topMargin.search("px")>0?k=parseInt(a.topMargin.replace("px","")):isNaN(parseInt(a.topMargin))?(console.log("incorrect argument, ignored."),k=0):k=parseInt(a.topMargin):k=0,g=$("."+e).size()}h=parseInt($(this).height()),i=parseInt($(this).css("margin-bottom")),j=parseInt($(this).next().closest("div").css("margin-top")),vartop=parseInt($(this).offset().top)},$(document).on("scroll",function(){function c(c){contentView=.4*$("#"+b[c]).height(),testView=a[c]-contentView,varscroll>testView?($("."+e).removeClass(f),$("."+e+":eq("+c+")").addClass(f)):50>varscroll&&($("."+e).removeClass(f),$("."+e+":eq(0)").addClass(f))}if(varscroll=parseInt($(document).scrollTop()),null!=g)for(var l=0;g>l;l++)a[l]=$("#"+b[l]).offset().top,"down"==d&&varscroll>a[l]-50&&varscroll<a[l]+50&&($("."+e).removeClass(f),$("."+e+":eq("+l+")").addClass(f)),"up"==d&&c(l);varscroll+k>vartop&&($(".stuckMenu").addClass("isStuck"),$(".stuckMenu").next().closest("div").css({"margin-top":h+i+j+"px"},10),$(".stuckMenu").css("position","fixed"),$(".isStuck").css({top:"0px"},10,function(){})),vartop>varscroll+k&&($(".stuckMenu").removeClass("isStuck"),$(".stuckMenu").next().closest("div").css({"margin-top":j+"px"},10),$(".stuckMenu").css("position","relative"))})});